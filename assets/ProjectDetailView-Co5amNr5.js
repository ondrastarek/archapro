import{_ as g,o as d,c,a as o,F as I,r as p,b as v,u as _,d as f,e as u,f as y,g as x,t as k,h as w,n as j,p as T,i as b}from"./index-CubxQuzo.js";const E={name:"ImageSlider",props:{images:Array,startIndex:Number,isOpen:Boolean},data(){return{currentIndex:this.startIndex,touchStartX:0,touchEndX:0}},computed:{currentImage(){return this.images[this.currentIndex]}},mounted(){window.addEventListener("keydown",this.handleKeydown)},beforeUnmount(){window.removeEventListener("keydown",this.handleKeydown)},methods:{prevImage(){this.currentIndex>0?this.currentIndex--:this.currentIndex=this.images.length-1},nextImage(){this.currentIndex<this.images.length-1?this.currentIndex++:this.currentIndex=0},handleKeydown(r){r.key==="ArrowLeft"?this.prevImage():r.key==="ArrowRight"?this.nextImage():r.key==="Escape"&&this.closeSlider()},handleTouchStart(r){this.touchStartX=r.touches[0].clientX},handleTouchMove(r){this.touchEndX=r.touches[0].clientX},handleTouchEnd(){this.touchEndX<this.touchStartX-50?this.nextImage():this.touchEndX>this.touchStartX+50&&this.prevImage(),this.touchStartX=0,this.touchEndX=0},closeSlider(){this.$emit("close")}}},X={key:0,class:"slider-container"},C=["src"],O={class:"slider-controls"};function P(r,e,h,n,i,s){return h.isOpen?(d(),c("div",X,[o("div",{class:"slider-blurred-background",onClick:e[0]||(e[0]=(...t)=>s.closeSlider&&s.closeSlider(...t))}),o("div",{class:"slider-content",onTouchstart:e[1]||(e[1]=(...t)=>s.handleTouchStart&&s.handleTouchStart(...t)),onTouchmove:e[2]||(e[2]=(...t)=>s.handleTouchMove&&s.handleTouchMove(...t)),onTouchend:e[3]||(e[3]=(...t)=>s.handleTouchEnd&&s.handleTouchEnd(...t))},[(d(!0),c(I,null,p([s.currentImage],(t,l)=>(d(),c("img",{key:l+i.currentIndex,src:t,class:"slider-image",alt:""},null,8,C))),128))],32),o("div",O,[o("button",{class:"arrow left-arrow",onClick:e[4]||(e[4]=(...t)=>s.prevImage&&s.prevImage(...t))},"˂"),o("button",{class:"arrow right-arrow",onClick:e[5]||(e[5]=(...t)=>s.nextImage&&s.nextImage(...t))},"˃"),o("button",{class:"close-button",onClick:e[6]||(e[6]=(...t)=>s.closeSlider&&s.closeSlider(...t))},"×")])])):v("",!0)}const B=g(E,[["render",P],["__scopeId","data-v-6b79c054"]]),L={name:"ProjectDetails",components:{ImageSlider:B},setup(){const r=_(),e=f(),h=u(!1),n=u(0),i=u(null),s=()=>{const l=parseInt(e.params.id,10),a=r.getters.selectedProject;if(a&&a.id===l)i.value=a;else{const m=r.getters.projects;i.value=m.find(S=>S.id===l)}i.value||console.error("Project not found!")},t=l=>{n.value=l,h.value=!0};return y(()=>{s()}),{project:i,isSliderOpen:h,selectedIndex:n,openSlider:t}}},D=r=>(T("data-v-8b0a7778"),r=r(),b(),r),M={key:0,class:"project-details"},A={class:"text-container"},K={class:"gallery-container-wrapper"},N={class:"gallery-container"},V=["onClick"],F=["src","alt"],R={key:1},z=D(()=>o("p",null,"Loading...",-1)),G=[z];function U(r,e,h,n,i,s){const t=x("ImageSlider");return n.project?(d(),c("div",M,[o("div",A,[o("h2",null,k(n.project.name),1)]),o("div",K,[o("div",N,[(d(!0),c(I,null,p(n.project.gallery,(l,a)=>(d(),c("div",{key:a,class:"gallery-item",style:j({animationDelay:`${a*.1}s`}),onClick:m=>n.openSlider(a)},[o("img",{src:l,alt:`Gallery image ${a+1}`},null,8,F)],12,V))),128))])]),n.isSliderOpen?(d(),w(t,{key:0,images:n.project.gallery,startIndex:n.selectedIndex,isOpen:n.isSliderOpen,onClose:e[0]||(e[0]=l=>n.isSliderOpen=!1)},null,8,["images","startIndex","isOpen"])):v("",!0)])):(d(),c("div",R,G))}const H=g(L,[["render",U],["__scopeId","data-v-8b0a7778"]]);export{H as default};
